<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <style>
        html,body {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
    </style>

    <iframe id="iframe" src="http://127.0.0.1:5173/2/#/?name=请假&showbtn=0" frameborder="0" style="width: 100%;height: 100%;padding:0;margin: 0;"></iframe>

    <button type="button" class="ant-btn button-publish" onclick="saveSet()" style="position: fixed;right: 40px;z-index: 10;bottom: 30px;font-size: 20px;">
        <span>发 布</span>
    </button>

    <script>
        var iframe = document.getElementById('iframe');

        // 保存
        var saveSet = function(){
            iframe.contentWindow.postMessage(JSON.stringify({"method":"save"}), '*')
        }

        // 保存成功回调
        window.addEventListener('message', (e) => {
            if (typeof e.data === 'string') {
                let propsBody = JSON.parse(e.data);
                if( propsBody.method == "saveSuccess" ) {
                    console.log("保存成功:",propsBody)
                }
            }
        })
    </script>
</body>
</html>